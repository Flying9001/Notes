## Kafka 安装使用教程  

​    

​    

### 1 下载  

官网: [https://kafka.apache.org](https://kafka.apache.org "https://kafka.apache.org")  

下载: [https://kafka.apache.org/downloads](https://kafka.apache.org/downloads "https://kafka.apache.org/downloads")  

​    

### 2 安装  

Linux/centOS 7 安装使用教程  

下载:  

```sh
wget https://downloads.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz
```

解压:  

```
tar -zxvf kafka_2.13-3.1.0.tgz
```

进入目录:  

```sh
cd kafka_2.13-3.1.0
```

修改 ZooKeeper 配置文件  

```sh
vim config/zookeeper.properties
```

根据需要修改配置信息，也可以将 ZooKeeper 的配置文件复制到这里  

修改 Kafka 配置文件  

```sh
vim config/server.properties
```

常用配置属性:  

```properties
# The id of the broker. This must be set to a unique integer for each broker.
broker.id=1
# Hostname and port the broker will advertise to producers and consumers. If not set,
# it uses the value for "listeners" if configured.  Otherwise, it will use the value
# returned from java.net.InetAddress.getCanonicalHostName().
#advertised.listeners=PLAINTEXT://your.host.name:9092
advertised.listeners=PLAINTEXT://your.publicIP:9092
# A comma separated list of directories under which to store log files
log.dirs=/var/log/kafka/logs-1
# Zookeeper connection string (see zookeeper docs for details).
# This is a comma separated host:port pairs, each corresponding to a zk
# server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002".
# You can also append an optional chroot string to the urls to specify the
# root directory for all kafka znodes.
zookeeper.connect=127.0.0.1:2181
```

启动 ZooKeeper 并后台运行(如果使用 ZooKeeper 自带的脚本启动则略过这一步)  

```sh
bin/zookeeper-server-start.sh config/zookeeper.properties &
```

启动 Kafka 并后台运行  

```sh
bin/kafka-server-start.sh config/server.properties &
```

停止 Zookeeper 服务:  

```
bin/zookeeper-server-stop.sh
```

停止 Kafka 服务:  

```
bin/kafka-server-stop.sh
```

​    

### 3 使用  

依赖: Kafka 必须依赖 JDK,ZooKeeper  



