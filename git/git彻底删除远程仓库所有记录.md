## git 彻底删除远程仓库以及所有记录  



- 需求:  

  删除git远程仓库，包括远程仓库里的所有文件，所有的提交记录，使之成为一个全新的空的仓库  

- 场景:  

  原有项目重建,需要清除原来的历史记录或所有代码,但是不创建新的远程仓库  

  某次提交的文件中有敏感信息(密码文件等)  

  由于某些原因需要删除远程仓库  



### 1 创建独立分支  

```shell
# git checkout --orphan lastest_branch  
```



### 2 删除本地文件    

如果是准备清空远程仓库的话,则删除本地的所有文件(文件还有用,可本地备份);如果删除部分文件或忽略敏感文件(如密码等信息),则在 `.gitignore` 文件中添加忽略规则即可  

删除本地所有文件

```shell
# rm -rf ./*  
```



### 3 重新添加本地文件  

```shell
# git add -A
```



### 4 提交当前分支  

```shell
# git commit -m '重建项目'
```



### 5 删除原来的主分支  

如果有其他分支,也一并删除  

```shell
# git branch -d master 
```



### 6 将当前分支改为主分支  

```shell
# git branch -m master
```



### 7 将当前分支强制推送的远程仓库  

```shell
# git push -f origin master
```



则远程仓库先前的所有记录都会不复存在，只有当前最新的一次提交记录  

